<div class="card-<%= comp.id %> mdl-card mdl-shadow--4dp"
     style="<%="width: #{comp.width}rem;" if comp.width%>
            <%="width: 100%;" unless comp.width%>
       <%= "height: #{comp.height}rem;" if comp.width && comp.width == comp.height %>
       <%= "min-height: 10rem;" unless comp.height %>
     ">
  <% if comp.title %>
  <div class="mdl-card__title mdl-card--expand"
     style="<%= "color: #{comp.title.color};" if comp.title&.color%>
            <%= "height: #{comp.height}rem;" if comp.height && comp.width != comp.height%>
            <%= "background: url('#{comp.background.image}') #{comp.background.options};" if comp.background&.image %>
            <%= "background-color: #{comp.background.color};" if comp.background&.color %>">
    <% if comp.title.text.any? %>
      <h2 class="mdl-card__title-text"
          style="<%= 'align-self: flex-start;' if comp.title&.align == :top%>"
      ><%= comp.title.text.map {|line| "#{line}<br/>"}.join %></h2>
    <% end %>
  </div>
  <% end %>

  <% if comp.image %>
    <div class="mdl-card__media">
      <img src="<%= comp.image %>" height="<%= comp.height %>" width="<%= comp.width %>" border="0" alt="">
    </div>
  <% end %>

  <% if comp.text %>
    <div class="mdl-card__supporting-text"><%= comp.text %></div>
  <% end %>


  <% if comp.action&.button %>
    <div class="mdl-card__actions mdl-card--border">
      <% if comp.action.button %>
        <%= erb :"components/button", :locals => {:comp => comp.action.button} %>
      <% end %>
    </div>
  <% end %>
  <% if comp.menu %>
    <div class="mdl-card__menu"
         style="<%= "color: #{comp.title.color};" if comp.title&.color %>
                <%='left: 16px;' if comp.menu.side==:left%>">
      <% if comp.menu %>
        <%= erb :"components/menu", :locals => {:comp => comp.menu} %>
      <% end %>

    </div>
  <% end %>
  <%= erb :"components/render", :locals => {:components => comp.components, :scope=> nil} %>
</div>
